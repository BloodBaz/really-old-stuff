	.data
	.globl	__title_pal
__title_pal:
	.dc.w	3808
	.dc.w	512
	.dc.w	1024
	.dc.w	1024
	.dc.w	2048
	.dc.w	3072
	.dc.w	3584
	.dc.w	3584
	.dc.w	192
	.dc.w	96
	.dc.w	34
	.dc.w	2150
	.dc.w	70
	.dc.w	1740
	.dc.w	3822
	.dc.w	3822
	.globl	__back_pal
__back_pal:
	.dc.w	512
	.dc.w	512
	.dc.w	512
	.dc.w	1024
	.dc.w	1024
	.dc.w	512
	.dc.w	1024
	.dc.w	1058
	.dc.w	1024
	.dc.w	1024
	.dc.w	1024
	.dc.w	1024
	.dc.w	1024
	.dc.w	1024
	.dc.w	1024
	.dc.w	1570
	.globl	__smaltitl_pal
__smaltitl_pal:
	.dc.w	3808
	.dc.w	512
	.dc.w	96
	.dc.w	2
	.dc.w	162
	.dc.w	1058
	.dc.w	2082
	.dc.w	4
	.dc.w	68
	.dc.w	38
	.dc.w	1672
	.dc.w	2730
	.dc.w	2730
	.dc.w	170
	.dc.w	2730
	.dc.w	3276
	.bss
	.globl	_wallpaper_x
	.comm	_wallpaper_x,2
	.globl	_wallpaper_y
	.comm	_wallpaper_y,2
	.bss
	.globl	_menustrings
	.comm	_menustrings,32
	.globl	_menu_option
	.comm	_menu_option,2
	.globl	_menu_option_count
	.comm	_menu_option_count,2
	.globl	_menu_blink_ctrl
	.comm	_menu_blink_ctrl,2
	.globl	_menu_last_joypad
	.comm	_menu_last_joypad,2
	.globl	_menu_joypad_changed
	.comm	_menu_joypad_changed,2
	.text
	.globl	_title_screen
_title_screen:
	link	a6,#0
	movem.l	d3-d4,-(sp)
	move.l	#483568,-(sp)
	move.w	#3840,d0
	lsr.w	#5,d0
	move.w	d0,-(sp)
	move.w	#256,-(sp)
	jsr	_set_bkg_data
	addq.w	#8,sp
	moveq.l	#0,d3
L3:
	cmp.w	#64,d3
	bcc	L5
	moveq.l	#0,d4
L6:
	cmp.w	#64,d4
	bcc	L4
	move.w	#256,-(sp)
	move.w	#57344,-(sp)
	move.l	#487408,-(sp)
	move.w	#8,-(sp)
	move.w	#16,-(sp)
	move.w	d3,-(sp)
	move.w	d4,-(sp)
	jsr	_set_bkg_tiles
	lea	16(sp),sp
	add.w	#16,d4
	bra	L6
L4:
	addq.w	#8,d3
	bra	L3
L5:
	move.l	#__back_pal,-(sp)
	clr.w	-(sp)
	jsr	_set_colors
	addq.w	#6,sp
	move.l	#467456,-(sp)
	move.w	#8832,d0
	lsr.w	#5,d0
	move.w	d0,-(sp)
	move.w	#512,-(sp)
	jsr	_set_bkg_data
	addq.w	#8,sp
	move.w	#8704,-(sp)
	move.w	#49152,-(sp)
	move.l	#476288,-(sp)
	move.w	#28,-(sp)
	move.w	#40,-(sp)
	clr.w	-(sp)
	clr.w	-(sp)
	jsr	_set_bkg_tiles
	lea	16(sp),sp
	move.l	#__title_pal,-(sp)
	move.w	#1,-(sp)
	jsr	_set_colors
	addq.w	#6,sp
	move.w	#8192,-(sp)
	clr.w	-(sp)
	move.l	#451088,-(sp)
	jsr	_dma_vram_copy
	addq.w	#8,sp
	move.l	#_blocks_pal,-(sp)
	move.w	#2,-(sp)
	jsr	_set_colors
	addq.w	#6,sp
	move.w	_curr_language,d0
	lsl.w	#2,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__press_start,d1
	move.l	d1,a0
	move.l	(a0),-(sp)
	move.w	#49152,-(sp)
	move.w	#1,-(sp)
	move.w	#20,-(sp)
	move.w	_curr_language,d0
	lsl.w	#2,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__press_start,d1
	move.l	d1,a0
	move.l	(a0),-(sp)
	jsr	_strlen2
	addq.w	#4,sp
	moveq.l	#40,d1
	sub.w	d0,d1
	lsr.w	#1,d1
	move.w	d1,-(sp)
	jsr	_out_text
	lea	12(sp),sp
L9:
	jsr	_read_joypad1
	and.w	#128,d0
	bne	L10
	move.w	_wallpaper_y,-(sp)
	clr.w	-(sp)
	jsr	_scrollv
	addq.w	#4,sp
	move.w	_wallpaper_x,-(sp)
	clr.w	-(sp)
	jsr	_scrollh
	addq.w	#4,sp
	move.w	#1,-(sp)
	jsr	_random
	addq.w	#2,sp
	subq.w	#1,_wallpaper_x
	subq.w	#1,_wallpaper_y
	jsr	_generate_sound
	jsr	_wait_sync
	bra	L9
L10:
	clr.w	-(sp)
	move.w	#49152,-(sp)
	move.w	#1,-(sp)
	move.w	#40,-(sp)
	move.w	#20,-(sp)
	clr.w	-(sp)
	jsr	_fill_bkg_rect
	lea	12(sp),sp
	move.l	#8113,-(sp)
	move.l	#765152,-(sp)
	jsr	_play_sample
	addq.w	#8,sp
	moveq.l	#0,d4
L11:
	cmp.w	#128,d4
	beq	L13
	move.w	_wallpaper_y,-(sp)
	move.w	d4,-(sp)
	jsr	_scrollv
	addq.w	#4,sp
	move.w	_wallpaper_x,-(sp)
	clr.w	-(sp)
	jsr	_scrollh
	addq.w	#4,sp
	subq.w	#1,_wallpaper_x
	subq.w	#1,_wallpaper_y
	jsr	_generate_sound
	jsr	_wait_sync
	addq.w	#4,d4
	bra	L11
L13:
	clr.w	-(sp)
	move.w	#49152,-(sp)
	move.w	#28,-(sp)
	move.w	#40,-(sp)
	clr.w	-(sp)
	clr.w	-(sp)
	jsr	_fill_bkg_rect
	lea	12(sp),sp
	jsr	_main_menu
	move.w	d0,d3
	jsr	_clrscr
	clr.w	-(sp)
	clr.w	-(sp)
	jsr	_scrollv
	addq.w	#4,sp
	clr.w	-(sp)
	clr.w	-(sp)
	jsr	_scrollh
	addq.w	#4,sp
	move.w	d3,d0
	movem.l	(sp)+,d3-d4
	unlk	a6
	rts
	.text
	.globl	_do_menu
_do_menu:
	link	a6,#-6
	movem.l	d3/d4/d5/d6,-(sp)
	move.w	10(a6),d6
	tst.w	16(a6)
	beq	L17
	clr.w	-(sp)
	move.w	#49152,-(sp)
	move.w	14(a6),-(sp)
	move.w	12(a6),-(sp)
	move.w	d6,-(sp)
	move.w	8(a6),-(sp)
	jsr	_fill_bkg_rect
	lea	12(sp),sp
	move.l	_menustrings,d4
	moveq.l	#0,d3
L18:
	cmp.w	#8,d3
	beq	L20
	move.w	d3,d0
	lsl.w	#2,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#_menustrings,d1
	move.l	d1,a0
	tst.l	(a0)
	beq	L20
	move.w	d3,d0
	lsl.w	#2,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#_menustrings,d1
	move.l	d1,a0
	move.l	(a0),d4
	move.l	d4,-(sp)
	move.w	#49152,-(sp)
	move.w	#1,-(sp)
	move.w	d3,d0
	lsl.w	#1,d0
	add.w	d6,d0
	move.w	d0,-(sp)
	move.l	d4,-(sp)
	jsr	_strlen2
	addq.w	#4,sp
	lsr.w	#1,d0
	moveq.l	#20,d1
	sub.w	d0,d1
	move.w	d1,-(sp)
	jsr	_out_text
	lea	12(sp),sp
	addq.w	#1,d3
	bra	L18
L20:
	move.w	d3,_menu_option_count
	move.w	_menu_option,d0
	cmp.w	_menu_option_count,d0
	bcs	L17
	tst.w	_menu_option_count
	beq	L22
	move.w	_menu_option_count,d0
	subq.w	#1,d0
	move.w	d0,_menu_option
L17:
	tst.w	18(a6)
	bne	L24
	move.w	_menu_blink_ctrl,d0
	addq.w	#1,d0
	and.w	#15,d0
	move.w	d0,_menu_blink_ctrl
	move.w	_menu_option,d0
	lsl.w	#2,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#_menustrings,d1
	move.l	d1,a0
	move.l	(a0),d4
	move.w	_menu_blink_ctrl,d0
	add.w	#1024,d0
	or.w	#16384,d0
	move.w	d0,-(sp)
	clr.w	-(sp)
	move.w	_menu_option,d0
	lsl.w	#1,d0
	add.w	d6,d0
	lsl.w	#3,d0
	move.w	d0,-(sp)
	move.l	d4,-(sp)
	jsr	_strlen2
	addq.w	#4,sp
	lsr.w	#1,d0
	moveq.l	#19,d1
	sub.w	d0,d1
	lsl.w	#3,d1
	move.w	d1,-(sp)
	move.w	#1,-(sp)
	jsr	_def_sprite
	lea	10(sp),sp
	move.w	_menu_blink_ctrl,d0
	add.w	#1024,d0
	or.w	#16384,d0
	move.w	d0,-(sp)
	clr.w	-(sp)
	move.w	_menu_option,d0
	lsl.w	#1,d0
	add.w	d6,d0
	lsl.w	#3,d0
	move.w	d0,-(sp)
	move.l	d4,-(sp)
	jsr	_strlen2
	addq.w	#4,sp
	lsr.w	#1,d0
	add.w	#21,d0
	lsl.w	#3,d0
	move.w	d0,-(sp)
	move.w	#2,-(sp)
	jsr	_def_sprite
	lea	10(sp),sp
	move.w	#2,-(sp)
	move.w	#1,-(sp)
	jsr	_show_sprite
	addq.w	#4,sp
L25:
	jsr	_read_joypad1
	move.w	d0,-(sp)
	jsr	_read_joypad2
	or.w	(sp)+,d0
	move.w	d0,d5
	move.w	#0,_menu_joypad_changed
	tst.w	_menu_option_count
	beq	L26
	move.w	d5,d0
	cmp.w	_menu_last_joypad,d0
	beq	L26
	move.w	d5,d0
	and.w	#1,d0
	beq	L28
	tst.w	_menu_option
	beq	L29
	subq.w	#1,_menu_option
L30:
	move.l	#_Ding1,-(sp)
	move.w	#1,-(sp)
	jsr	_start_sound
	addq.w	#6,sp
L28:
	move.w	d5,d0
	and.w	#2,d0
	beq	L31
	addq.w	#1,_menu_option
	moveq.l	#0,d0
	move.w	_menu_option,d0
	divu	_menu_option_count,d0
	swap	d0
	move.w	d0,_menu_option
	move.l	#_Ding1,-(sp)
	move.w	#1,-(sp)
	jsr	_start_sound
	addq.w	#6,sp
L31:
	move.w	#1,_menu_joypad_changed
L26:
	move.w	d5,_menu_last_joypad
	movem.l	(sp)+,d3/d4/d5/d6
	unlk	a6
	rts
L29:
	move.w	_menu_option_count,d0
	subq.w	#1,d0
	move.w	d0,_menu_option
	bra	L30
L24:
	clr.w	-(sp)
	clr.w	-(sp)
	move.w	#-32,-(sp)
	clr.w	-(sp)
	move.w	#1,-(sp)
	jsr	_def_sprite
	lea	10(sp),sp
	clr.w	-(sp)
	clr.w	-(sp)
	move.w	#-32,-(sp)
	clr.w	-(sp)
	move.w	#2,-(sp)
	jsr	_def_sprite
	lea	10(sp),sp
	move.w	#2,-(sp)
	move.w	#1,-(sp)
	jsr	_show_sprite
	addq.w	#4,sp
	bra	L25
L22:
	move.w	#0,_menu_option
	bra	L17
	.text
	.globl	_plf_option_menu
_plf_option_menu:
	link	a6,#-2
	move.l	d3,-(sp)
	cmp.w	#2,8(a6)
	bls	L35
	clr.w	d0
L34:
	move.l	(sp)+,d3
	unlk	a6
	rts
L35:
	moveq.l	#14,d0
	mulu	8(a6),d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#_plf_opt,d1
	move.l	d1,a0
	move.l	d1,_curr_plf_opt
	moveq.l	#6,d0
	mulu	(a0),d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#_wh_settings,d1
	move.l	d1,a0
	move.l	_curr_plf_opt,a1
	move.w	(a0),2(a1)
	move.l	_curr_plf_opt,a0
	moveq.l	#6,d0
	mulu	(a0),d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#_wh_settings,d1
	move.l	d1,a0
	move.l	_curr_plf_opt,a1
	move.w	2(a0),4(a1)
	move.w	_curr_language,d0
	lsl.w	#4,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__wh_settings,d1
	move.l	d1,a0
	move.l	_curr_plf_opt,a1
	move.w	(a1),d0
	lsl.w	#2,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	d1,a0
	move.l	(a0),_menustrings
	move.w	_curr_language,d0
	lsl.w	#3,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__bomb_settings,d1
	move.l	d1,a0
	move.l	_curr_plf_opt,a1
	move.w	6(a1),d0
	lsl.w	#2,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	d1,a0
	move.l	(a0),_menustrings+4
	move.w	_curr_language,d0
	lsl.w	#3,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__extmode_settings,d1
	move.l	d1,a0
	move.l	_curr_plf_opt,a1
	move.w	8(a1),d0
	lsl.w	#2,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	d1,a0
	move.l	(a0),_menustrings+8
	move.l	#0,_menustrings+12
	move.w	#0,_menu_option
	move.w	#1,-(sp)
	move.w	#1,-(sp)
	move.w	#20,-(sp)
	move.w	#40,-(sp)
	move.w	#11,-(sp)
	clr.w	-(sp)
	jsr	_do_menu
	lea	12(sp),sp
L36:
	jsr	_read_joypad1
	and.w	#128,d0
	bne	L37
	clr.w	-(sp)
	move.w	d3,-(sp)
	move.w	#20,-(sp)
	move.w	#40,-(sp)
	move.w	#11,-(sp)
	clr.w	-(sp)
	jsr	_do_menu
	lea	12(sp),sp
	moveq.l	#0,d3
	tst.w	_menu_joypad_changed
	beq	L38
	move.w	_menu_option,d0
	beq	L41
	cmp.w	#1,d0
	beq	L46
	cmp.w	#2,d0
	beq	L48
L39:
	tst.w	d3
	beq	L38
	move.l	#_Ding1,-(sp)
	move.w	#1,-(sp)
	jsr	_start_sound
	addq.w	#6,sp
L38:
	move.w	_wallpaper_y,-(sp)
	clr.w	-(sp)
	jsr	_scrollv
	addq.w	#4,sp
	move.w	_wallpaper_x,-(sp)
	clr.w	-(sp)
	jsr	_scrollh
	addq.w	#4,sp
	addq.w	#1,_wallpaper_x
	subq.w	#1,_wallpaper_y
	jsr	_generate_sound
	jsr	_wait_sync
	bra	L36
L48:
	move.w	_menu_last_joypad,d0
	and.w	#124,d0
	beq	L49
	move.l	_curr_plf_opt,a0
	tst.w	8(a0)
	seq	d0
	and.w	#1,d0
	move.l	_curr_plf_opt,a0
	move.w	d0,8(a0)
L49:
	move.w	_curr_language,d0
	lsl.w	#3,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__extmode_settings,d1
	move.l	d1,a0
	move.l	_curr_plf_opt,a1
	move.w	8(a1),d0
	lsl.w	#2,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	d1,a0
	move.l	(a0),_menustrings+8
	moveq.l	#1,d3
	bra	L39
L46:
	move.w	_menu_last_joypad,d0
	and.w	#124,d0
	beq	L47
	move.l	_curr_plf_opt,a0
	tst.w	6(a0)
	seq	d0
	and.w	#1,d0
	move.l	_curr_plf_opt,a0
	move.w	d0,6(a0)
L47:
	move.w	_curr_language,d0
	lsl.w	#3,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__bomb_settings,d1
	move.l	d1,a0
	move.l	_curr_plf_opt,a1
	move.w	6(a1),d0
	lsl.w	#2,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	d1,a0
	move.l	(a0),_menustrings+4
	moveq.l	#1,d3
	bra	L39
L41:
	move.w	_menu_last_joypad,d0
	and.w	#4,d0
	beq	L42
	move.l	_curr_plf_opt,a0
	tst.w	(a0)
	beq	L43
	move.l	_curr_plf_opt,a0
	subq.w	#1,(a0)
L42:
	move.w	_menu_last_joypad,d0
	and.w	#120,d0
	beq	L45
	move.l	_curr_plf_opt,a0
	addq.w	#1,(a0)
	move.l	_curr_plf_opt,a0
	moveq.l	#0,d0
	move.w	(a0),d0
	divu	#4,d0
	swap	d0
	move.w	d0,(a0)
L45:
	move.w	_curr_language,d0
	lsl.w	#4,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__wh_settings,d1
	move.l	d1,a0
	move.l	_curr_plf_opt,a1
	move.w	(a1),d0
	lsl.w	#2,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	d1,a0
	move.l	(a0),_menustrings
	move.l	_curr_plf_opt,a0
	moveq.l	#6,d0
	mulu	(a0),d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#_wh_settings,d1
	move.l	d1,a0
	move.l	_curr_plf_opt,a1
	move.w	(a0),2(a1)
	move.l	_curr_plf_opt,a0
	moveq.l	#6,d0
	mulu	(a0),d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#_wh_settings,d1
	move.l	d1,a0
	move.l	_curr_plf_opt,a1
	move.w	2(a0),4(a1)
	moveq.l	#1,d3
	bra	L39
L43:
	move.l	_curr_plf_opt,a0
	move.w	#3,(a0)
	bra	L42
L37:
	clr.w	d0
	bra	L34
	.text
	.globl	_main_menu
_main_menu:
	link	a6,#0
	movem.l	d3-d4,-(sp)
	move.w	_wallpaper_y,-(sp)
	move.w	#-244,-(sp)
	jsr	_scrollv
	addq.w	#4,sp
	move.w	_wallpaper_x,-(sp)
	clr.w	-(sp)
	jsr	_scrollh
	move.l	#478528,(sp)
	move.w	#4704,d0
	lsr.w	#5,d0
	move.w	d0,-(sp)
	move.w	#512,-(sp)
	jsr	_set_bkg_data
	addq.w	#8,sp
	move.w	#8704,-(sp)
	move.w	#49152,-(sp)
	move.l	#483232,-(sp)
	move.w	#8,-(sp)
	move.w	#21,-(sp)
	move.w	#1,-(sp)
	move.w	#10,-(sp)
	jsr	_set_bkg_tiles
	lea	16(sp),sp
	move.l	#__smaltitl_pal,-(sp)
	move.w	#1,-(sp)
	jsr	_set_colors
	addq.w	#6,sp
	move.w	#1024,-(sp)
	move.w	#32768,-(sp)
	move.l	#465408,-(sp)
	jsr	_dma_vram_copy
	addq.w	#8,sp
	moveq.l	#24,d0
	mulu	_curr_language,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__game_modes,d1
	move.l	d1,a0
	move.l	(a0),_menustrings
	moveq.l	#24,d0
	mulu	_curr_language,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__game_modes,d1
	move.l	d1,a0
	move.l	4(a0),_menustrings+4
	moveq.l	#24,d0
	mulu	_curr_language,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__game_modes,d1
	move.l	d1,a0
	move.l	8(a0),_menustrings+8
	moveq.l	#24,d0
	mulu	_curr_language,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__game_modes,d1
	move.l	d1,a0
	move.l	12(a0),_menustrings+12
	moveq.l	#24,d0
	mulu	_curr_language,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__game_modes,d1
	move.l	d1,a0
	move.l	16(a0),_menustrings+16
	moveq.l	#24,d0
	mulu	_curr_language,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__game_modes,d1
	move.l	d1,a0
	move.l	20(a0),_menustrings+20
	move.l	#0,_menustrings+24
	move.w	#0,_menu_option
	move.w	#1,-(sp)
	move.w	#1,-(sp)
	move.w	#20,-(sp)
	move.w	#40,-(sp)
	move.w	#11,-(sp)
	clr.w	-(sp)
	jsr	_do_menu
	lea	12(sp),sp
	move.w	#-244,d4
L55:
	tst.w	d4
	beq	L57
	move.w	_wallpaper_y,-(sp)
	move.w	d4,-(sp)
	jsr	_scrollv
	addq.w	#4,sp
	move.w	_wallpaper_x,-(sp)
	clr.w	-(sp)
	jsr	_scrollh
	addq.w	#4,sp
	addq.w	#1,_wallpaper_x
	subq.w	#1,_wallpaper_y
	jsr	_generate_sound
	jsr	_wait_sync
	addq.w	#4,d4
	bra	L55
L57:
	move.w	_wallpaper_x,-(sp)
	clr.w	-(sp)
	jsr	_scrollv
	addq.w	#4,sp
	move.w	_wallpaper_y,-(sp)
	clr.w	-(sp)
	jsr	_scrollh
	addq.w	#4,sp
L58:
	jsr	_read_joypad1
	and.w	#128,d0
	bne	L60
	clr.w	-(sp)
	clr.w	-(sp)
	move.w	#20,-(sp)
	move.w	#40,-(sp)
	move.w	#11,-(sp)
	clr.w	-(sp)
	jsr	_do_menu
	lea	12(sp),sp
	move.w	_wallpaper_y,-(sp)
	clr.w	-(sp)
	jsr	_scrollv
	addq.w	#4,sp
	move.w	_wallpaper_x,-(sp)
	clr.w	-(sp)
	jsr	_scrollh
	addq.w	#4,sp
	addq.w	#1,_wallpaper_x
	subq.w	#1,_wallpaper_y
	jsr	_generate_sound
	jsr	_wait_sync
	bra	L58
L60:
	jsr	_read_joypad1
	and.w	#128,d0
	bne	L60
	move.w	_menu_option,d3
	move.w	_menu_option,-(sp)
	jsr	_plf_option_menu
	addq.w	#2,sp
	clr.w	-(sp)
	clr.w	-(sp)
	jsr	_scrollv
	addq.w	#4,sp
	clr.w	-(sp)
	clr.w	-(sp)
	jsr	_scrollh
	addq.w	#4,sp
	move.w	#2,-(sp)
	jsr	_reset_sprites
	addq.w	#2,sp
	move.w	d3,d0
	movem.l	(sp)+,d3-d4
	unlk	a6
	rts
	.data
	.text
	.globl	_pause_menu
_pause_menu:
	link	a6,#-4
	movem.l	d3/d4/d5,-(sp)
	moveq.l	#0,d3
L65:
	cmp.w	#16,d3
	beq	L67
	clr.w	-(sp)
	clr.w	-(sp)
	move.w	#-32,-(sp)
	clr.w	-(sp)
	move.w	d3,d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	jsr	_def_sprite
	lea	10(sp),sp
	addq.w	#1,d3
	bra	L65
L67:
	move.w	#16,-(sp)
	move.w	#1,-(sp)
	jsr	_show_sprite
	addq.w	#4,sp
	move.w	#1024,-(sp)
	move.w	#32,-(sp)
	move.l	#465408,-(sp)
	jsr	_dma_vram_copy
	addq.w	#8,sp
	move.w	_curr_language,d0
	lsl.w	#3,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__pause_opts,d1
	move.l	d1,a0
	move.l	(a0),_menustrings
	move.w	_curr_language,d0
	lsl.w	#3,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__pause_opts,d1
	move.l	d1,a0
	move.l	4(a0),_menustrings+4
	move.l	#0,_menustrings+8
	move.w	#0,_menu_option
	move.w	#1,-(sp)
	move.w	#1,-(sp)
	move.w	#20,-(sp)
	move.w	#40,-(sp)
	move.w	#40,-(sp)
	clr.w	-(sp)
	jsr	_do_menu
	lea	12(sp),sp
	moveq.l	#0,d4
L68:
	cmp.w	#244,d4
	beq	L71
	clr.w	-(sp)
	move.w	d4,-(sp)
	jsr	_scrollv
	addq.w	#4,sp
	clr.w	-(sp)
	clr.w	-(sp)
	jsr	_scrollh
	addq.w	#4,sp
	jsr	_generate_sound
	jsr	_wait_sync
	addq.w	#4,d4
	bra	L68
L71:
	jsr	_read_joypad1
	move.w	d0,-(sp)
	jsr	_read_joypad2
	or.w	(sp)+,d0
	and.w	#128,d0
	bne	L73
	move.w	#1,-(sp)
	clr.w	-(sp)
	move.w	#20,-(sp)
	move.w	#40,-(sp)
	move.w	#40,-(sp)
	clr.w	-(sp)
	jsr	_do_menu
	lea	12(sp),sp
	move.w	_menu_blink_ctrl,d0
	addq.w	#1,d0
	and.w	#15,d0
	move.w	d0,_menu_blink_ctrl
	move.w	_menu_option,d0
	lsl.w	#2,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#_menustrings,d1
	move.l	d1,a0
	move.l	(a0),d5
	move.w	_menu_blink_ctrl,d0
	addq.w	#1,d0
	or.w	#16384,d0
	move.w	d0,-(sp)
	clr.w	-(sp)
	move.w	_menu_option,d0
	lsl.w	#1,d0
	add.w	#10,d0
	lsl.w	#3,d0
	move.w	d0,-(sp)
	move.l	d5,-(sp)
	jsr	_strlen2
	addq.w	#4,sp
	lsr.w	#1,d0
	moveq.l	#19,d1
	sub.w	d0,d1
	lsl.w	#3,d1
	move.w	d1,-(sp)
	move.w	#1,-(sp)
	jsr	_def_sprite
	lea	10(sp),sp
	move.w	_menu_blink_ctrl,d0
	addq.w	#1,d0
	or.w	#16384,d0
	move.w	d0,-(sp)
	clr.w	-(sp)
	move.w	_menu_option,d0
	lsl.w	#1,d0
	add.w	#10,d0
	lsl.w	#3,d0
	move.w	d0,-(sp)
	move.l	d5,-(sp)
	jsr	_strlen2
	addq.w	#4,sp
	lsr.w	#1,d0
	add.w	#21,d0
	lsl.w	#3,d0
	move.w	d0,-(sp)
	move.w	#2,-(sp)
	jsr	_def_sprite
	lea	10(sp),sp
	move.w	#2,-(sp)
	move.w	#1,-(sp)
	jsr	_show_sprite
	addq.w	#4,sp
	jsr	_generate_sound
	jsr	_wait_sync
	bra	L71
L73:
	jsr	_read_joypad1
	move.w	d0,-(sp)
	jsr	_read_joypad2
	or.w	(sp)+,d0
	and.w	#128,d0
	bne	L73
	move.w	_menu_option,d3
	moveq.l	#0,d4
L75:
	cmp.w	#16,d4
	beq	L77
	clr.w	-(sp)
	clr.w	-(sp)
	move.w	#-32,-(sp)
	clr.w	-(sp)
	move.w	d4,d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	jsr	_def_sprite
	lea	10(sp),sp
	addq.w	#1,d4
	bra	L75
L77:
	move.w	#16,-(sp)
	move.w	#1,-(sp)
	jsr	_show_sprite
	addq.w	#4,sp
	move.w	#244,d4
L78:
	tst.w	d4
	beq	L80
	clr.w	-(sp)
	move.w	d4,-(sp)
	jsr	_scrollv
	addq.w	#4,sp
	clr.w	-(sp)
	clr.w	-(sp)
	jsr	_scrollh
	addq.w	#4,sp
	jsr	_generate_sound
	jsr	_wait_sync
	subq.w	#4,d4
	bra	L78
L80:
	clr.w	-(sp)
	clr.w	-(sp)
	jsr	_scrollv
	addq.w	#4,sp
	clr.w	-(sp)
	clr.w	-(sp)
	jsr	_scrollh
	addq.w	#4,sp
	clr.w	-(sp)
	move.w	#49152,-(sp)
	move.w	#28,-(sp)
	move.w	#40,-(sp)
	move.w	#28,-(sp)
	clr.w	-(sp)
	jsr	_fill_bkg_rect
	lea	12(sp),sp
	move.w	d3,d0
	movem.l	(sp)+,d3/d4/d5
	unlk	a6
	rts
