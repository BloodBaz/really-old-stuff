	.text
	.globl	_draw_life_meter
_draw_life_meter:
	link	a6,#-44
	movem.l	d3/d4/d5/d6/d7,-(sp)
	move.w	12(a6),d7
	move.w	16(a6),d6
	move.w	8(a6),d5
	moveq.l	#0,d3
L3:
	cmp.w	d6,d3
	beq	L5
	move.w	d3,d0
	lsl.w	#1,d0
	moveq.l	#0,d1
	move.w	d0,d1
	move.w	d7,-40(a6,d1.l)
	addq.w	#1,d3
	bra	L3
L5:
	move.w	d6,d0
	mulu	18(a6),d0
	mulu	#5,d0
	moveq.l	#0,d1
	move.w	d0,d1
	divu	20(a6),d1
	move.w	d1,d4
	moveq.l	#0,d0
	move.w	d4,d0
	divu	#5,d0
	move.w	d0,-44(a6)
	moveq.l	#0,d0
	move.w	d4,d0
	divu	#5,d0
	swap	d0
	move.w	d0,d4
	moveq.l	#0,d3
L6:
	cmp.w	-44(a6),d3
	beq	L8
	move.w	d7,d0
	addq.w	#4,d0
	move.w	d3,d1
	lsl.w	#1,d1
	moveq.l	#0,d2
	move.w	d1,d2
	move.w	d0,-40(a6,d2.l)
	addq.w	#1,d3
	bra	L6
L8:
	move.w	d7,d0
	add.w	d4,d0
	move.w	d3,d1
	lsl.w	#1,d1
	moveq.l	#0,d2
	move.w	d1,d2
	move.w	d0,-40(a6,d2.l)
	tst.w	22(a6)
	bne	L9
	moveq.l	#0,d3
L10:
	cmp.w	d6,d3
	beq	L2
	move.w	#49152,-(sp)
	move.w	10(a6),-(sp)
	move.w	d5,d0
	addq.w	#1,d5
	move.w	d0,-(sp)
	move.w	14(a6),-(sp)
	move.w	d3,d0
	lsl.w	#1,d0
	moveq.l	#0,d1
	move.w	d0,d1
	move.w	-40(a6,d1.l),-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	addq.w	#1,d3
	bra	L10
L2:
	movem.l	(sp)+,d3/d4/d5/d6/d7
	unlk	a6
	rts
L9:
	moveq.l	#0,d3
L14:
	cmp.w	d6,d3
	beq	L2
	move.w	#49152,-(sp)
	move.w	10(a6),-(sp)
	move.w	d5,d0
	subq.w	#1,d5
	move.w	d0,-(sp)
	move.w	14(a6),-(sp)
	move.w	d3,d0
	lsl.w	#1,d0
	moveq.l	#0,d1
	move.w	d0,d1
	move.w	-40(a6,d1.l),-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	addq.w	#1,d3
	bra	L14
	.text
	.globl	_draw_battle_playfield_display_right
_draw_battle_playfield_display_right:
	link	a6,#0
	movem.l	d3/d4,-(sp)
	move.l	8(a6),d4
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#2,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#326,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#7,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#326,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#2,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#328,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#7,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#324,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#3,d0
	move.w	d0,d3
L20:
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#7,d0
	cmp.w	d0,d3
	beq	L22
	move.w	#49152,-(sp)
	move.w	d3,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#321,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	addq.w	#1,d3
	bra	L20
L22:
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	addq.w	#1,d0
	move.w	d0,d3
L23:
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	cmp.w	d0,d3
	beq	L25
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#2,d0
	move.w	d0,-(sp)
	move.w	d3,-(sp)
	move.w	#8192,-(sp)
	move.w	#323,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#7,d0
	move.w	d0,-(sp)
	move.w	d3,-(sp)
	move.w	#8192,-(sp)
	move.w	#323,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	addq.w	#1,d3
	bra	L23
L25:
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#8,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#362,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#8,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#346,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	#9,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#362,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	#9,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#346,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	clr.w	-(sp)
	move.w	#255,-(sp)
	move.l	d4,a0
	move.w	608(a0),-(sp)
	move.w	_plf_display_width,d0
	subq.w	#2,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#347,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#8,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	addq.w	#2,d0
	move.w	d0,-(sp)
	jsr	_draw_life_meter
	lea	16(sp),sp
	clr.w	-(sp)
	move.w	#255,-(sp)
	move.l	d4,a0
	move.w	610(a0),-(sp)
	move.w	_plf_display_width,d0
	subq.w	#2,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#363,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	#9,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	addq.w	#2,d0
	move.w	d0,-(sp)
	jsr	_draw_life_meter
	lea	16(sp),sp
	movem.l	(sp)+,d3/d4
	unlk	a6
	rts
	.text
	.globl	_draw_battle_playfield_display_left
_draw_battle_playfield_display_left:
	link	a6,#0
	movem.l	d3/d4,-(sp)
	move.l	8(a6),d4
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#2,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#327,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#7,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#327,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#2,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	sub.w	_plf_display_width,d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#329,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#7,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	sub.w	_plf_display_width,d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#322,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#3,d0
	move.w	d0,d3
L29:
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#7,d0
	cmp.w	d0,d3
	beq	L31
	move.w	#49152,-(sp)
	move.w	d3,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	sub.w	_plf_display_width,d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#321,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	addq.w	#1,d3
	bra	L29
L31:
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#2,d0
	move.w	d0,d3
L32:
	move.l	d4,a0
	move.w	422(a0),d0
	sub.w	_plf_display_width,d0
	subq.w	#1,d0
	cmp.w	d0,d3
	beq	L34
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#2,d0
	move.w	d0,-(sp)
	move.w	d3,-(sp)
	move.w	#8192,-(sp)
	move.w	#323,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#7,d0
	move.w	d0,-(sp)
	move.w	d3,-(sp)
	move.w	#8192,-(sp)
	move.w	#323,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	subq.w	#1,d3
	bra	L32
L34:
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	sub.w	_plf_display_width,d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#362,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#2,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#346,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	sub.w	_plf_display_width,d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#362,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#2,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#346,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#1,-(sp)
	move.w	#255,-(sp)
	move.l	d4,a0
	move.w	608(a0),-(sp)
	move.w	_plf_display_width,d0
	subq.w	#2,d0
	move.w	d0,-(sp)
	move.w	#10240,-(sp)
	move.w	#347,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#3,d0
	move.w	d0,-(sp)
	jsr	_draw_life_meter
	lea	16(sp),sp
	move.w	#1,-(sp)
	move.w	#255,-(sp)
	move.l	d4,a0
	move.w	610(a0),-(sp)
	move.w	_plf_display_width,d0
	subq.w	#2,d0
	move.w	d0,-(sp)
	move.w	#10240,-(sp)
	move.w	#363,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#3,d0
	move.w	d0,-(sp)
	jsr	_draw_life_meter
	lea	16(sp),sp
	movem.l	(sp)+,d3/d4
	unlk	a6
	rts
	.data
	.text
	.globl	_draw_battle_playfield_frame
_draw_battle_playfield_frame:
	link	a6,#0
	movem.l	d3/d4,-(sp)
	move.l	8(a6),d4
	move.l	d4,a0
	tst.b	568(a0)
	beq	L37
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#320,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#325,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#2,d0
	move.w	d0,d3
L39:
	move.l	d4,a0
	move.l	d4,a1
	move.w	420(a0),d0
	add.w	426(a1),d0
	cmp.w	d0,d3
	beq	L41
	move.w	#49152,-(sp)
	move.w	d3,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#321,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.w	d3,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#321,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	addq.w	#1,d3
	bra	L39
L41:
	move.l	d4,a0
	move.w	422(a0),d3
L42:
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	cmp.w	d0,d3
	beq	L44
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	420(a0),d0
	add.w	426(a1),d0
	move.w	d0,-(sp)
	move.w	d3,-(sp)
	move.w	#8192,-(sp)
	move.w	#323,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	addq.w	#1,d3
	bra	L42
L44:
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	420(a0),d0
	add.w	426(a1),d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#322,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	420(a0),d0
	add.w	426(a1),d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	#324,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.l	d4,a0
	cmp.w	#20,422(a0)
	bls	L45
	move.l	d4,-(sp)
	jsr	_draw_battle_playfield_display_left
	addq.w	#4,sp
	moveq.l	#0,d3
L46:
	cmp.w	#2,d3
	beq	L37
	move.w	d3,d0
	lsl.w	#4,d0
	moveq.l	#0,d1
	move.w	d0,d1
	move.l	d4,a0
	lea	448(a0),a0
	add.l	d1,a0
	pea	(a0)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#3,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#7,d0
	moveq.l	#5,d1
	mulu	d3,d1
	sub.w	d1,d0
	move.w	d0,-(sp)
	jsr	_draw_piece
	addq.w	#8,sp
	addq.w	#1,d3
	bra	L46
L37:
	movem.l	(sp)+,d3/d4
	unlk	a6
	rts
L45:
	move.l	d4,-(sp)
	jsr	_draw_battle_playfield_display_right
	addq.w	#4,sp
	moveq.l	#0,d3
L50:
	moveq.l	#0,d0
	move.w	_plf_display_width,d0
	divu	#5,d0
	cmp.w	d0,d3
	beq	L37
	move.l	d4,a0
	cmp.w	560(a0),d3
	beq	L37
	move.w	d3,d0
	lsl.w	#4,d0
	moveq.l	#0,d1
	move.w	d0,d1
	move.l	d4,a0
	lea	448(a0),a0
	add.l	d1,a0
	pea	(a0)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#3,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	moveq.l	#5,d1
	mulu	d3,d1
	add.w	d1,d0
	addq.w	#3,d0
	move.w	d0,-(sp)
	jsr	_draw_piece
	addq.w	#8,sp
	addq.w	#1,d3
	bra	L50
