	.bss
	.globl	_plf_display_width
	.comm	_plf_display_width,2
	.globl	_plf_display_height
	.comm	_plf_display_height,2
	.text
	.globl	_draw_score
_draw_score:
	link	a6,#-28
	movem.l	d3/d4/d5/d6/d7/a3/a4,-(sp)
	move.w	10(a6),d7
	move.l	12(a6),d6
	moveq.l	#0,d3
L3:
	cmp.w	#7,d3
	beq	L5
	move.w	d3,d0
	lsl.w	#1,d0
	moveq.l	#0,d1
	move.w	d0,d1
	move.w	#0,-14(a6,d1.l)
	move.w	d3,d0
	lsl.w	#1,d0
	moveq.l	#0,d1
	move.w	d0,d1
	move.w	#0,-28(a6,d1.l)
	addq.w	#1,d3
	bra	L3
L5:
	moveq.l	#6,d3
L6:
	tst.l	d6
	bne	L9
	cmp.w	#6,d3
	bne	L8
L9:
	move.l	#10,-(sp)
	move.l	d6,-(sp)
	jsr	lremu
	addq.w	#8,sp
	move.w	d3,d1
	lsl.w	#1,d1
	moveq.l	#0,d2
	move.w	d1,d2
	move.w	d0,-28(a6,d2.l)
	move.w	d3,d0
	lsl.w	#1,d0
	moveq.l	#0,d1
	move.w	d0,d1
	move.w	-28(a6,d1.l),d0
	add.w	#336,d0
	move.w	d3,d1
	lsl.w	#1,d1
	moveq.l	#0,d2
	move.w	d1,d2
	move.w	d0,-14(a6,d2.l)
	move.w	d3,d0
	lsl.w	#1,d0
	moveq.l	#0,d1
	move.w	d0,d1
	lea	-28(a6,d1.l),a0
	add.w	#352,(a0)
	move.l	#10,-(sp)
	move.l	d6,-(sp)
	jsr	ldivu
	addq.w	#8,sp
	move.l	d0,d6
	subq.w	#1,d3
	bra	L6
L8:
	move.w	#16384,d5
	move.w	d7,d0
	mulu	_extWIDTH,d0
	add.w	8(a6),d0
	lsl.w	#1,d0
	add.w	#49152,d0
	moveq.l	#0,d1
	move.w	d0,d1
	move.l	d1,d4
	move.l	#12582916,a3
	move.l	d4,d0
	and.l	#16383,d0
	add.l	#16384,d0
	moveq.l	#16,d1
	lsl.l	d1,d0
	move.l	d4,d1
	moveq.l	#14,d2
	lsr.l	d2,d1
	add.l	d1,d0
	move.l	d0,(a3)
	move.l	#12582912,a4
	moveq.l	#0,d3
L10:
	cmp.w	#7,d3
	beq	L12
	move.w	d3,d0
	lsl.w	#1,d0
	moveq.l	#0,d1
	move.w	d0,d1
	move.w	-14(a6,d1.l),d0
	or.w	d5,d0
	move.w	d0,(a4)
	addq.w	#1,d3
	bra	L10
L12:
	addq.w	#1,d7
	move.w	d7,d0
	mulu	_extWIDTH,d0
	add.w	8(a6),d0
	lsl.w	#1,d0
	add.w	#49152,d0
	moveq.l	#0,d1
	move.w	d0,d1
	move.l	d1,d4
	move.l	#12582916,a3
	move.l	d4,d0
	and.l	#16383,d0
	add.l	#16384,d0
	moveq.l	#16,d1
	lsl.l	d1,d0
	move.l	d4,d1
	moveq.l	#14,d2
	lsr.l	d2,d1
	add.l	d1,d0
	move.l	d0,(a3)
	move.l	#12582912,a4
	moveq.l	#0,d3
L13:
	cmp.w	#7,d3
	beq	L2
	move.w	d3,d0
	lsl.w	#1,d0
	moveq.l	#0,d1
	move.w	d0,d1
	move.w	-28(a6,d1.l),d0
	or.w	d5,d0
	move.w	d0,(a4)
	addq.w	#1,d3
	bra	L13
L2:
	movem.l	(sp)+,d3/d4/d5/d6/d7/a3/a4
	unlk	a6
	rts
	.text
	.globl	_draw_piece
_draw_piece:
	link	a6,#0
	movem.l	d3/d4/d5/d6/d7,-(sp)
	move.l	12(a6),d7
	move.w	10(a6),d6
	move.w	8(a6),d5
	moveq.l	#0,d3
L19:
	cmp.w	#4,d3
	beq	L18
	moveq.l	#0,d4
L22:
	cmp.w	#4,d4
	beq	L20
	move.w	d3,d0
	lsl.w	#2,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	d7,d1
	move.l	d1,a0
	moveq.l	#0,d0
	move.w	d4,d0
	add.l	d0,a0
	tst.b	(a0)
	beq	L25
	move.w	#49152,-(sp)
	move.w	d6,d0
	add.w	d3,d0
	move.w	d0,-(sp)
	move.w	d5,d0
	add.w	d4,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	move.w	d3,d0
	lsl.w	#2,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	d7,d1
	move.l	d1,a0
	moveq.l	#0,d0
	move.w	d4,d0
	move.b	0(a0,d0.l),d0
	ext.w	d0
	add.w	#256,d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
L23:
	addq.w	#1,d4
	bra	L22
L25:
	move.w	#49152,-(sp)
	move.w	d6,d0
	add.w	d3,d0
	move.w	d0,-(sp)
	move.w	d5,d0
	add.w	d4,d0
	move.w	d0,-(sp)
	move.w	#8192,-(sp)
	clr.w	-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	bra	L23
L20:
	addq.w	#1,d3
	bra	L19
L18:
	movem.l	(sp)+,d3/d4/d5/d6/d7
	unlk	a6
	rts
	.text
	.globl	_draw_extended_playfield_display_frame
_draw_extended_playfield_display_frame:
	link	a6,#0
	movem.l	d3/d4,-(sp)
	move.l	8(a6),d4
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#327,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.w	_plf_display_height,d0
	lsl.w	#1,d0
	move.l	d4,a0
	add.w	420(a0),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#326,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.w	_plf_display_height,d0
	lsl.w	#1,d0
	move.l	d4,a0
	add.w	420(a0),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#324,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#2,d0
	move.w	d0,d3
L30:
	move.w	_plf_display_height,d0
	lsl.w	#1,d0
	move.l	d4,a0
	add.w	420(a0),d0
	addq.w	#1,d0
	cmp.w	d0,d3
	beq	L32
	move.w	#49152,-(sp)
	move.w	d3,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#321,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	addq.w	#1,d3
	bra	L30
L32:
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	addq.w	#1,d0
	move.w	d0,d3
L33:
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	cmp.w	d0,d3
	beq	L29
	move.w	#49152,-(sp)
	move.w	_plf_display_height,d0
	lsl.w	#1,d0
	move.l	d4,a0
	add.w	420(a0),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.w	d3,-(sp)
	move.w	#16384,-(sp)
	move.w	#323,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	addq.w	#1,d3
	bra	L33
L29:
	movem.l	(sp)+,d3/d4
	unlk	a6
	rts
	.text
	.globl	_draw_extended_playfield_display
_draw_extended_playfield_display:
	link	a6,#0
	movem.l	d3/d4,-(sp)
	move.l	8(a6),d4
	move.l	d4,-(sp)
	jsr	_draw_extended_playfield_display_frame
	addq.w	#4,sp
	moveq.l	#0,d3
L39:
	cmp.w	#6,d3
	beq	L41
	move.w	d3,d0
	lsl.w	#2,d0
	moveq.l	#0,d1
	move.w	d0,d1
	moveq.l	#24,d0
	mulu	_curr_language,d0
	moveq.l	#0,d2
	move.w	d0,d2
	add.l	#__survival_stbar,d2
	move.l	d2,a0
	add.l	d1,a0
	move.l	(a0),-(sp)
	move.w	#49152,-(sp)
	move.w	#1,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	add.w	d3,d0
	addq.w	#2,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	jsr	_out_text
	lea	12(sp),sp
	addq.w	#1,d3
	bra	L39
L41:
	move.l	d4,a0
	move.w	550(a0),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#5,-(sp)
	move.w	#49152,-(sp)
	move.w	#1,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#2,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	subq.w	#5,d0
	move.w	d0,-(sp)
	jsr	_out_uint
	lea	12(sp),sp
	move.l	d4,a0
	move.w	532(a0),-(sp)
	move.w	#5,-(sp)
	move.w	#49152,-(sp)
	move.w	#1,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#3,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	subq.w	#5,d0
	move.w	d0,-(sp)
	jsr	_out_uint
	lea	12(sp),sp
	moveq.l	#0,d3
L42:
	cmp.w	#4,d3
	beq	L38
	move.w	d3,d0
	lsl.w	#1,d0
	moveq.l	#0,d1
	move.w	d0,d1
	move.l	d4,a0
	lea	534(a0),a0
	add.l	d1,a0
	move.w	(a0),-(sp)
	move.w	#5,-(sp)
	move.w	#49152,-(sp)
	move.w	#1,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	add.w	d3,d0
	addq.w	#4,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	subq.w	#5,d0
	move.w	d0,-(sp)
	jsr	_out_uint
	lea	12(sp),sp
	addq.w	#1,d3
	bra	L42
L38:
	movem.l	(sp)+,d3/d4
	unlk	a6
	rts
	.text
	.globl	_draw_mission_playfield_display
_draw_mission_playfield_display:
	link	a6,#0
	movem.l	d3/d4/d5,-(sp)
	move.l	8(a6),d5
	move.l	d5,-(sp)
	jsr	_draw_extended_playfield_display_frame
	move.l	d5,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#2,d0
	move.w	d0,d4
	move.w	_curr_language,d0
	lsl.w	#5,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__mission_stbar,d1
	move.l	d1,a0
	move.l	(a0),(sp)
	move.w	#49152,-(sp)
	move.w	#1,-(sp)
	move.w	d4,-(sp)
	move.l	d5,a0
	move.l	d5,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	jsr	_out_text
	lea	12(sp),sp
	move.w	_mission_number,-(sp)
	move.w	#5,-(sp)
	move.w	#49152,-(sp)
	move.w	#1,-(sp)
	move.w	d4,-(sp)
	move.l	d5,a0
	move.l	d5,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	subq.w	#5,d0
	move.w	d0,-(sp)
	jsr	_out_uint
	lea	12(sp),sp
	addq.w	#1,d4
	move.w	_curr_language,d0
	lsl.w	#5,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__mission_stbar,d1
	move.l	d1,a0
	move.l	4(a0),-(sp)
	move.w	#49152,-(sp)
	move.w	#1,-(sp)
	move.w	d4,-(sp)
	move.l	d5,a0
	move.l	d5,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	jsr	_out_text
	lea	12(sp),sp
	move.l	d5,a0
	move.w	550(a0),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#5,-(sp)
	move.w	#49152,-(sp)
	move.w	#1,-(sp)
	move.w	d4,-(sp)
	move.l	d5,a0
	move.l	d5,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	subq.w	#5,d0
	move.w	d0,-(sp)
	jsr	_out_uint
	lea	12(sp),sp
	addq.w	#1,d4
	move.l	_mishead,a0
	tst.b	5(a0)
	beq	L48
	move.w	_curr_language,d0
	lsl.w	#5,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__mission_stbar,d1
	move.l	d1,a0
	move.l	8(a0),-(sp)
	move.w	#49152,-(sp)
	move.w	#1,-(sp)
	move.w	d4,-(sp)
	move.l	d5,a0
	move.l	d5,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	jsr	_out_text
	lea	12(sp),sp
	move.l	d5,a0
	move.w	562(a0),-(sp)
	move.w	#5,-(sp)
	move.w	#49152,-(sp)
	move.w	#1,-(sp)
	move.w	d4,-(sp)
	move.l	d5,a0
	move.l	d5,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	subq.w	#5,d0
	move.w	d0,-(sp)
	jsr	_out_uint
	lea	12(sp),sp
	addq.w	#1,d4
L48:
	tst.w	_mission_has_meta
	beq	L49
	moveq.l	#0,d3
L50:
	cmp.w	#4,d3
	beq	L49
	move.w	_curr_language,d0
	lsl.w	#5,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__mission_stbar,d1
	move.l	d1,a0
	move.w	d3,d0
	addq.w	#3,d0
	lsl.w	#2,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	d1,a0
	move.l	(a0),-(sp)
	move.w	#49152,-(sp)
	move.w	#1,-(sp)
	move.w	d4,-(sp)
	move.l	d5,a0
	move.l	d5,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	jsr	_out_text
	lea	12(sp),sp
	move.w	d3,d0
	lsl.w	#1,d0
	moveq.l	#0,d1
	move.w	d0,d1
	move.l	d5,a0
	lea	542(a0),a0
	add.l	d1,a0
	move.w	(a0),-(sp)
	move.w	#5,-(sp)
	move.w	#49152,-(sp)
	move.w	#1,-(sp)
	move.w	d4,-(sp)
	move.l	d5,a0
	move.l	d5,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	subq.w	#5,d0
	move.w	d0,-(sp)
	jsr	_out_uint
	lea	12(sp),sp
	addq.w	#1,d4
	addq.w	#1,d3
	bra	L50
L49:
	move.l	_mishead,a0
	tst.b	4(a0)
	beq	L47
	move.w	_curr_language,d0
	lsl.w	#5,d0
	moveq.l	#0,d1
	move.w	d0,d1
	add.l	#__mission_stbar,d1
	move.l	d1,a0
	move.l	28(a0),-(sp)
	move.w	#49152,-(sp)
	move.w	#1,-(sp)
	move.w	d4,-(sp)
	move.l	d5,a0
	move.l	d5,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	jsr	_out_text
	lea	12(sp),sp
	move.w	_mission_timer,-(sp)
	move.w	#5,-(sp)
	move.w	#49152,-(sp)
	move.w	#1,-(sp)
	move.w	d4,-(sp)
	move.l	d5,a0
	move.l	d5,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	subq.w	#5,d0
	move.w	d0,-(sp)
	jsr	_out_uint
	lea	12(sp),sp
	addq.w	#1,d4
L47:
	movem.l	(sp)+,d3/d4/d5
	unlk	a6
	rts
	.text
	.globl	_draw_playfield_display_right
_draw_playfield_display_right:
	link	a6,#0
	movem.l	d3/d4,-(sp)
	move.l	8(a6),d4
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#2,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#326,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#326,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#2,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#328,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#324,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#3,d0
	move.w	d0,d3
L57:
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#1,d0
	cmp.w	d0,d3
	beq	L59
	move.w	#49152,-(sp)
	move.w	d3,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#321,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	addq.w	#1,d3
	bra	L57
L59:
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	addq.w	#1,d0
	move.w	d0,d3
L60:
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	cmp.w	d0,d3
	beq	L62
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#2,d0
	move.w	d0,-(sp)
	move.w	d3,-(sp)
	move.w	#16384,-(sp)
	move.w	#323,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#5,d0
	move.w	d0,-(sp)
	move.w	d3,-(sp)
	move.w	#16384,-(sp)
	move.w	#323,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.w	d3,-(sp)
	move.w	#16384,-(sp)
	move.w	#323,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	addq.w	#1,d3
	bra	L60
L62:
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#5,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#326,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#5,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#327,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	tst.w	_curr_game_mode
	bne	L63
	move.l	d4,-(sp)
	jsr	_draw_extended_playfield_display
	addq.w	#4,sp
L56:
	movem.l	(sp)+,d3/d4
	unlk	a6
	rts
L63:
	cmp.w	#3,_curr_game_mode
	bne	L56
	move.l	d4,-(sp)
	jsr	_draw_mission_playfield_display
	addq.w	#4,sp
	bra	L56
	.text
	.globl	_draw_playfield_display_left
_draw_playfield_display_left:
	link	a6,#0
	movem.l	d3/d4,-(sp)
	move.l	8(a6),d4
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#2,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#327,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.w	_plf_display_height,d0
	lsl.w	#1,d0
	move.l	d4,a0
	add.w	420(a0),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#327,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#2,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	sub.w	_plf_display_width,d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#329,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.w	_plf_display_height,d0
	lsl.w	#1,d0
	move.l	d4,a0
	add.w	420(a0),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	sub.w	_plf_display_width,d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#322,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#3,d0
	move.w	d0,d3
L69:
	move.w	_plf_display_height,d0
	lsl.w	#1,d0
	move.l	d4,a0
	add.w	420(a0),d0
	addq.w	#1,d0
	cmp.w	d0,d3
	beq	L71
	move.w	#49152,-(sp)
	move.w	d3,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	sub.w	_plf_display_width,d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#321,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	addq.w	#1,d3
	bra	L69
L71:
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#2,d0
	move.w	d0,d3
L72:
	move.l	d4,a0
	move.w	422(a0),d0
	sub.w	_plf_display_width,d0
	subq.w	#1,d0
	cmp.w	d0,d3
	beq	L74
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#2,d0
	move.w	d0,-(sp)
	move.w	d3,-(sp)
	move.w	#16384,-(sp)
	move.w	#323,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#5,d0
	move.w	d0,-(sp)
	move.w	d3,-(sp)
	move.w	#16384,-(sp)
	move.w	#323,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.w	_plf_display_height,d0
	lsl.w	#1,d0
	move.l	d4,a0
	add.w	420(a0),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.w	d3,-(sp)
	move.w	#16384,-(sp)
	move.w	#323,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	subq.w	#1,d3
	bra	L72
L74:
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#5,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#327,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#5,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	sub.w	_plf_display_width,d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#326,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	movem.l	(sp)+,d3/d4
	unlk	a6
	rts
	.data
	.text
	.globl	_draw_playfield_frame
_draw_playfield_frame:
	link	a6,#0
	movem.l	d3/d4,-(sp)
	move.l	8(a6),d4
	move.l	d4,a0
	tst.b	568(a0)
	beq	L77
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#320,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#325,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#2,d0
	move.w	d0,d3
L79:
	move.l	d4,a0
	move.l	d4,a1
	move.w	420(a0),d0
	add.w	426(a1),d0
	cmp.w	d0,d3
	beq	L81
	move.w	#49152,-(sp)
	move.w	d3,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#321,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.w	d3,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#321,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	addq.w	#1,d3
	bra	L79
L81:
	move.l	d4,a0
	move.w	422(a0),d3
L82:
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	cmp.w	d0,d3
	beq	L84
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	420(a0),d0
	add.w	426(a1),d0
	move.w	d0,-(sp)
	move.w	d3,-(sp)
	move.w	#16384,-(sp)
	move.w	#323,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	addq.w	#1,d3
	bra	L82
L84:
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	420(a0),d0
	add.w	426(a1),d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#1,d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#322,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.w	#49152,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	420(a0),d0
	add.w	426(a1),d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	move.w	d0,-(sp)
	move.w	#16384,-(sp)
	move.w	#324,-(sp)
	jsr	_put_tile
	lea	10(sp),sp
	move.l	d4,a0
	cmp.w	#20,422(a0)
	bls	L85
	move.l	d4,-(sp)
	jsr	_draw_playfield_display_left
	move.l	d4,a0
	move.l	554(a0),(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#3,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#8,d0
	move.w	d0,-(sp)
	jsr	_draw_score
	addq.w	#8,sp
	moveq.l	#0,d3
L86:
	cmp.w	#2,d3
	beq	L77
	move.w	d3,d0
	lsl.w	#4,d0
	moveq.l	#0,d1
	move.w	d0,d1
	move.l	d4,a0
	lea	448(a0),a0
	add.l	d1,a0
	pea	(a0)
	move.l	d4,a0
	move.w	420(a0),d0
	add.w	_plf_display_height,d0
	addq.w	#6,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.w	422(a0),d0
	subq.w	#5,d0
	moveq.l	#5,d1
	mulu	d3,d1
	sub.w	d1,d0
	move.w	d0,-(sp)
	jsr	_draw_piece
	addq.w	#8,sp
	addq.w	#1,d3
	bra	L86
L77:
	movem.l	(sp)+,d3/d4
	unlk	a6
	rts
L85:
	move.l	d4,-(sp)
	jsr	_draw_playfield_display_right
	move.l	d4,a0
	move.l	554(a0),(sp)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#3,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	add.w	_plf_display_width,d0
	subq.w	#7,d0
	move.w	d0,-(sp)
	jsr	_draw_score
	addq.w	#8,sp
	moveq.l	#0,d3
L90:
	moveq.l	#0,d0
	move.w	_plf_display_width,d0
	divu	#5,d0
	cmp.w	d0,d3
	beq	L77
	move.l	d4,a0
	cmp.w	560(a0),d3
	beq	L77
	move.w	d3,d0
	lsl.w	#4,d0
	moveq.l	#0,d1
	move.w	d0,d1
	move.l	d4,a0
	lea	448(a0),a0
	add.l	d1,a0
	pea	(a0)
	move.l	d4,a0
	move.w	420(a0),d0
	addq.w	#6,d0
	move.w	d0,-(sp)
	move.l	d4,a0
	move.l	d4,a1
	move.w	422(a0),d0
	add.w	424(a1),d0
	moveq.l	#5,d1
	mulu	d3,d1
	add.w	d1,d0
	addq.w	#1,d0
	move.w	d0,-(sp)
	jsr	_draw_piece
	addq.w	#8,sp
	addq.w	#1,d3
	bra	L90
